использование :
*  при регистрации токены не используются ( не их среда работы )

Авторизация:
	*  после успешной аутентификации пользователя на бэкенде, ( пользователь прошел проверку ) создается refresh токен, который должен храниться в http-only cookie ( самый безопасный вариант ), а потом генерирует и access токен, который отправляется на фронт (после чего react будет отвечать за хранение и управление данным токеном. Access token - так называемый ключ, который поможет пройти пользователю аутентификацию на сервере и этот токен должен передаваться с каждым отдельным запросом, который приложение react делает на сервер, потому что это то, что идентифицирует, кем на самом деле является пользователь )  ( на фронте токен хранится in a user's memory - тоже самый безопасный вариант, который предотвращает HSS атаки )
  
  * access токен живет около 15 минут, refresh токен живет примерно 30 дней ( оптимальное время ). Когда access токен умирает, отправляется запрос на бэк с целью генерации нового токена. Он генерируется только в том случае, когда refresh токен действительный , если refresh не действительный, то тогда должна произойти повторная авторизация пользователя на сайте.
	  При обновлении страницы access токен будет сбрасываться автоматически и становится undefinded и отправится на бэк именно это, или же если есть токен, но он просрочен, то этот токен отправляется на бэк, где соответственно не пройдет проверку на действительность. В обоих этих случаях access токен не действительный, поэтому для повторной генерации сервер проверяет действительность refresh токена, если он действителен, то генерируется access и идет на фронт, иначе, если все-таки refresh тоже умер, то тогда пользователю необходимо пройти повторную авторизацию

* refresh токен ( the last sourse for truth, так как он хранится только на сервере и никогда не переходит на **клиент**) помимо того, что существует в течение 30 дней, так еще и обновляется после каждого logout ( после каждого выхода пользователя из аккаунта, по фактам, как я понял, так как refresh живет долго, то он будет всегда действительный, следовательно нужно лишь сгенерировать access токен и тогда пользователь залогинится один раз (на 30+ дней, пока токен не умрет) и не будет каждый раз при открытии сайта проходить авторизацию, для этого токены походу как раз и нужны )
	Сам сервер не просто генерирует refresh токен, но и отвечает за сохранение, проверку и **верификацию** этого токена.
  
  
  **Клиент** — это всё, что взаимодействует с сервером.
  **Верификация** — подтверждение на основе представления объективных свидетельств того, что установленные требования были выполнены
  
  
  Поэтапный план: ( почти как я и описывал в других файлах )
  ![[Pasted image 20250321124511.png]]
  ![[Pasted image 20250323174331.png]]
Ссылка на сайт с данной инфой: https://habr.com/ru/articles/732432/